<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script src="./index.js"></script>
    <!-- <script>
      function __decorate(decorators, target, key, desc) {
        let paramNumber = arguments.length;
        let ret;
        if (paramNumber < 3) {
          // 类装饰器
          ret = target;
        } else {
          if (desc === null) {
            // 方法装饰器、参数装饰器函数、存取器装饰器
            desc = Object.getOwnPropertyDescriptor(target, key);
          }
          ret = desc;
        }

        let originRet = ret;
        let decoratorFn;
        for (let i = decorators.length - 1; i >= 0; i--) {
          decoratorFn = decorators[i];
          if (!decoratorFn) {
            continue;
          }

          if (paramNumber < 3) {
            // 类装饰器
            ret = decoratorFn(ret);
          } else {
            if (paramNumber > 3) {
              // 方法、参数、存取器装饰器函数
              ret = decoratorFn(target, key, ret);
            } else {
              // 属性装饰器
              ret = decoratorFn(target, key);
            }
          }

          ret ||= originRet;
        }

        // 方法、参数、存取器装饰器
        if (paramNumber > 3 && ret) {
          Object.defineProperty(target, key, ret);
        }
        return ret;
      }

      function __param(paramIndex, decoratorFn) {
        return function (target, key) {
          decoratorFn(target, key, paramIndex);
        };
      }

      function add(num) {
        return function addDecorator(target, methodName, descriptor) {
          console.log("addDecorator", target, methodName, descriptor);
        };
      }
      function mul(num) {
        return function mulDecorator(target, methodName, descriptor) {
          console.log("mulDecorator", target, methodName, descriptor);
        };
      }
      class Test {
        getNum() {
          return 10;
        }
      }
      __decorate([add(10)], Test.prototype, "getNum", null);
      let t = new Test();
      console.log(t.getNum());
    </script> -->
  </body>
</html>
