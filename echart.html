<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      crossorigin="anonymous"
      integrity="sha512-nwsaVAa77m2lKdOeZFJINZm7wL+PZYqNPv4D5q7c7CYpvxM9w50Vdc/j1Y3VVS22Ftd6CKpAOKBMZWaEp1U9ww=="
      src="https://lib.baomitu.com/echarts/4.9.0-rc.1/echarts-en.js"
    ></script>
    <style>
      div {
        color: rgb(10, 131, 178);
      }
    </style>
  </head>
  <body>
    <div id="main" style="width: 600px; height: 400px"></div>
    <script>
      var myChart = echarts.init(document.getElementById('main'));

      var xAxisData = [];
      var data1 = [];
      var data2 = [];
      for (var i = 0; i < 100; i++) {
        xAxisData.push('A' + i);
        data1.push((Math.sin(i / 5) * (i / 5 - 10) + i / 6) * 5);
      }
      option = {
        title: {
          text: 'Bar Animation Delay',
        },
        legend: {
          data: ['bar', 'bar2'],
        },
        toolbox: {
          // y: 'bottom',
          feature: {
            magicType: {
              type: ['stack'],
            },
            dataView: {},
            saveAsImage: {
              pixelRatio: 2,
            },
          },
        },
        tooltip: {},
        xAxis: {
          data: xAxisData,
          splitLine: {
            show: false,
          },
        },
        dataZoom: [
          {
            start: 0,
            end: 120,
          },
          {
            start: 0,
            end: 120,
          },
        ],
        yAxis: {},
        visualMap: {
          top: 50,
          right: 10,
          pieces: [
            {
              gt: 0,
              lte: 150,
              color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                { offset: 0, color: '#ad0718' },
                { offset: 1, color: '#411539' },
              ]),
            },
            {
              lt: 0,
              gt: -60,
              color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                { offset: 0, color: 'rgb(135, 206, 235)' },
                { offset: 1, color: 'rgb(10, 131, 178)' },
              ]),
            },
          ],
        },
        series: [
          {
            name: 'bar',
            type: 'bar',
            data: data1,
            emphasis: {
              focus: 'series',
            },
            animationDelay: function (idx) {
              return idx * 10;
            },
          },
        ],
        animationEasing: 'elasticOut',
        animationDelayUpdate: function (idx) {
          return idx * 5;
        },
      };

      myChart.setOption(option);
    </script>
  </body>
</html>
